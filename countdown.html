<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" type="image/x-icon" href="resources/favicon.ico">
    <title>Countdown</title>
  </head>

  <style>

  .timer
  {
      font-family: Consolas;
      font-size: 72px;
  }

  </style>

  <body>
    <div class="center" style="text-align: center">

      <h1>End of Spring Semester</h1>
      <h1 id="school-timer" class="timer">
        <span id="years"></span
        >:<span id="days"></span
        >:<span id="hours"></span
        >:<span id="minutes"></span
        >:<span id="seconds"></span>
      </h1>

      <h1>Easter</h1>
      <h1 id="easter-timer" class="timer">
        <span id="years"></span
        >:<span id="days"></span
        >:<span id="hours"></span
        >:<span id="minutes"></span
        >:<span id="seconds"></span>
      </h1>

      <h1>End of Life</h1>
      <h1 id="death-timer" class="timer">
        <span id="years"></span
        >:<span id="days"></span
        >:<span id="hours"></span
        >:<span id="minutes"></span
        >:<span id="seconds"></span>
      </h1>

      <div id="version"></div>
    </div>

    <script>

    DATES = { "school": new Date("May 15 2019 3:05 PM"),
              "death": new Date("January 12 2073 12:00 PM")}

    function update()
    {
        for (let d of Object.entries(DATES))
        {
            name = d[0];
            date = d[1];
            var dt = Math.round((date.getTime() - new Date().getTime())/1000);
            var seconds = dt % 60;
            dt = (dt - seconds)/60;
            var minutes = dt % 60;
            dt = (dt - minutes)/60;
            var hours = dt % 24;
            dt = (dt - hours)/24;
            var days = dt % 365;
            dt = (dt - days)/365;
            var years = dt;

            timer = document.getElementById(name + "-timer");
            timer.childNodes[1].innerHTML = (years + '').padStart(2, '0');
            timer.childNodes[3].innerHTML = (days + '').padStart(2, '0');
            timer.childNodes[5].innerHTML = (hours + '').padStart(2, '0');
            timer.childNodes[7].innerHTML = (minutes + '').padStart(2, '0');
            timer.childNodes[9].innerHTML = (seconds + '').padStart(2, '0');
        }
    }

    update();

    setInterval(update, 250);

    </script>

    <script src="scripts/global.js"></script>

  </body>
</html>
