<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" href="styles.css">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

<title>Marxism</title>


</head>

<body>

<div class="center" style="margin-bottom: 50px">
<div style="overflow: hidden">
<div style="margin-right: auto; float: left">
<p><a href="resume">< things I've done</a></p>
</div>
<div style="margin-left: auto; float: right">
<p><a href="/">return to the internet ></a></p>
</div>
</div>

<div style="text-align:center; margin-top: 40px">

<h1 style="margin-bottom:0px">javascript playground</h1>
<h5 style="margin: 5px auto 40px auto">(and future online voting booth)</h5>

<p style="margin-top: 20px">
Overturn Citizens United!<br><br>
Install IRV in federal and state elections!<br><br>
Abolish capitalism!</p>

<div style="text-align:center; margin-top:30px">

<form style="margin-top:30px" id="input">
<input style="width:300px"
type="text" name="input" placeholder="Barack Obama, Big Bird, Chuck Norris">
</form>

<button style="margin: 30px 5px 20px 5px" type="button" onclick="addBallot();">
Add ballot
</button>
<button style="margin: 30px 5px 20px 5px" type="button" onclick="getWinner();">
Get winner
</button>
<button style="margin: 30px 5px 20px 5px" type="button" onclick="console.log('clear'); clc();">
Clear ballots
</button>

<p id="winner">
</p>
<p id="printout">
</p>

<canvas id="canvas" style="border:1px solid lightgray"
width="700px" height="400px"></canvas>
<script src="vote.js"></script>
<script src="ball.js"></script>

</div>
</div>
</div>

<script>

function addBallot()
{
    var x = document.getElementById('input');
    var text = "";
        text += x.elements[0].value;

    if (text != "")
    {
        var b = Ballot.fromString(text);
        ballot_box.push(b);
        text = b.toString();
        document.getElementById('printout'). innerHTML +=
            '[' + text + '] ';
    }
}

function getWinner()
{
    document.getElementById('winner').innerHTML = 
        "<h3>" + getRunoffWinner(ballot_box) + "</h3>";
}

function clc()
{
    console.log("clear");
    ballot_box = [];
    document.getElementById('printout').innerHTML = "";
    document.getElementById('winner').innerHTML = "";
}

</script>

</body>

</html>