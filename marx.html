<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" href="styles.css">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

<title>Marxism</title>


</head>

<body>

<div class="center">
<div style="overflow: hidden">
<div style="margin-right: auto; float: left">
<p><a href="resume">< things I've done</a></p>
</div>
<div style="margin-left: auto; float: right">
<p><a href="/">return to the internet ></a></p>
</div>
</div>

<div style="text-align:center;
margin-top: 40px;
padding: 20px 20px 20px 20px;
background-color:rgba(255, 255, 255, 0.65);">

<h1 style="margin-bottom:0px">javascript playground</h1>
<h4 style="margin: 5px auto 40px auto">(and future online voting booth)</h4>

<!-- <p style="margin-top: 20px"> -->
<!-- Overturn Citizens United!<br><br> -->
<!-- Install IRV in federal and state elections!<br><br> -->
<!-- Abolish capitalism!</p> -->

<div style="text-align:center; margin-top:30px">

<form style="margin-top:30px" id="input">
<input style="width:300px"
type="text" name="input" placeholder="Barack Obama, Big Bird, Chuck Norris">
</form>

<button style="margin: 30px 5px 20px 5px" type="button" onclick="addBallot();">
Add ballot
</button>
<button style="margin: 30px 5px 20px 5px" type="button" onclick="getWinner();">
Get winner
</button>
<button style="margin: 30px 5px 20px 5px" type="button" onclick="console.log('clear'); clc();">
Clear ballots
</button>

<p id="winner">
</p>

</div>

</div>
</div>

<canvas id="canvas" style="position:absolute;
border:0px solid lightgray; top:0px; z-index:-1"
width="1000px" height="800px"></canvas>

<script src="vote.js"></script>
<script src="ball.js"></script>

<script>
function addBallot()
{
    var x = document.getElementById('input');
    var text = x.elements[0].value;

    if (text != "")
    {
        var ballot = Ballot.fromString(text);
        ballot_box.push(ballot);
        var ball = ballot2ball(ballot);
        ball.x = Math.random()*document.body.clientWidth;
        ball.y = Math.random()*document.body.scrollHeight
        ball.r = ball.r * 30;
        ball.g = 0;
        ball.vx = Math.random()*1000-500;
        ball.vy = Math.random()*1000-500;
        ball.damp = 1;
        balls.push(ball);
    }
}

function getWinner()
{
    document.getElementById('winner').innerHTML = 
        "<h3>The winner is " + getRunoffWinner(ballot_box) + "!</h3>";
}

function clc()
{
    console.log("clear");
    ballot_box = [];
    balls = [];
    document.getElementById('winner').innerHTML = "";
}

</script>

</body>

</html>